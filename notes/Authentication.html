<h1> Authentication in restaf</h1>

There are 4 scenarios supported by restaf 

<ol>
    <li> Password flow</li>
    <li> Implicit flow</li>
    <li> Authorization_code flow</li>
    <li> With auth token</li>
</ol>

<h2> Logon method(alias: connect method)</h2>

<h3> Usage </h3>

<pre>
let msg = await store.logon(payload);
</pre>

The payload object will depend on the use-case


<h2> Password flow</h2>
This is typically used in cli and nodejs applications.

The payload has the following schema:
<pre>
        let logonPayload = {
            authType    : "password",
            host        : {your viys server - http://cooluser.viya.com}},
            user        : {username},
            password    : {user password},
            clientID    : {password flow clientID},
            clientSecret: {client secret}
        }
    
    </pre>


<h2>Implicit flow</h2>

In the logon window use this payload
<pre>
        let payload = {
            authType    : "implicit",
            host        : {your viys server - http://cooluser.viya.com}},
            clientID    : {password flow clientID},
            clientSecret: ""{client secret},
            redirect    : {same redirect associated with the clientID}
        }
        </pre>

For simplicity of programming pass the same payload to logon in the redirected html. restaf will
parse the incoming url for token.

<h2> Authorization_code flow</h2>

<blockquote>

<strong>Do not use this option until the release of a maintenance for Viya 3.5 </blockquote></strong>

</blockquote>

This is designed for use by your app server to authenticate the session. restaf-server supports this.
If you are using some other app server look for documentation on Oauth support for that app server.

Assuming that your session is authenticated, pass the following to store.logon in your HTML 


<pre>
        let payload = {
            authType : "server",
            host     : {your viya server - http://cooluser.viya.com}},
            keepAlive: null
   
        }
        </pre>

The keepAlive is a place holder. Once testing is completed this will be enabled. This option is intended to keepAlive
your browser session authenticated for longer than 30 mins(or whatever the default was set to when Viya was installed)


<h2> With authorization token</h2>



If you already have a valid Oauth token then use this payload.

<pre>
     
        let payload = {
            authType : "server",
            host     : {your viya server - http://cooluser.viya.com}},
            token    : {your token},
            tokenType: 'bearer'
        }
               
        

</pre>
</html>